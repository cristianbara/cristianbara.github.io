-function(){"use strict";var e;var k=function(a){if("function"==typeof a.gwdLoad&&"function"==typeof a.gwdIsLoaded&&!a.gwdIsLoaded()){var b=h(a),c=b&&"function"==typeof b.gwdIsLoaded;(!b||c&&b.gwdIsLoaded())&&a.gwdLoad()}},l=function(a){if(null==a.gwdActivate||"function"==typeof a.gwdActivate)if(null==a.gwdIsActive||!a.gwdIsActive()){var b=h(a),c=b&&null!=b.gwdIsActive&&"function"==typeof b.gwdIsActive;null==b&&a.gwdActivate();c&&b.gwdIsActive()&&a.gwdActivate()}},m=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==
a.getAttribute("is")},h=function(a){if(m(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&m(a))return a;return null},n=function(a){for(var b=[];a;a=a.parentNode)b.unshift(a);return b};var p=function(a,b){var c=function(d){a.removeEventListener("playing",c);b(d)};a.addEventListener("playing",c)};var q={l:"fullscreenchange",o:"webkitfullscreenchange",m:"mozfullscreenchange"},r={l:"fullscreenElement",o:"webkitFullscreenElement",m:"mozFullScreenElement"},t=function(a){var b,c;for(c in r)if(b=a[r[c]],void 0!==b)break;return b||null},u=function(a,b,c){this.f=a;this.a=c;this.b=b;this.h=this.s.bind(this)};
u.prototype.s=function(){var a=t(this.a);if(a)if(this.b==a)for(var b=this.a,a=this.b;a&&a!=b;a=a.parentNode)a.classList.add(this.f);else if(a.classList.contains(this.f)){for(var b=n(this.b),a=n(a),c=0,d=b[0],g=a[0],f=null;d&&g&&d==g;)f=d,c++,d=b[c],g=a[c];v(this,f)}else v(this);else v(this)};u.prototype.install=function(){for(var a in q)this.a.addEventListener(q[a],this.h)};var v=function(a,b){for(var c=b||a.a,d=a.b;d&&d!=c;d=d.parentNode)d.classList.remove(a.f)};var w=function(){};goog.inherits(w,HTMLVideoElement);e=w.prototype;e.createdCallback=function(){this.i=new u("has-fullscreen-gwd-video",this,document);this.g=this.j=!1;this.setAttribute("webkit-playsinline",!0);this.setAttribute("x-webkit-airplay","allow");this.c=(this.muted=this.hasAttribute("muted"))&&-1!=(window.navigator.userAgent||"").indexOf("Android")};e.attachedCallback=function(){k(this);l(this);this.c&&p(this,function(){this.c&&(this.volume=0)}.bind(this));this.i.install()};
e.detachedCallback=function(){var a=this.i,b;for(b in q)a.a.removeEventListener(q[b],a.h);a.b==t(a.a)&&v(a);this.c&&(this.volume=1)};e.attributeChangedCallback=function(a){"sources"==a&&x(this)};e.gwdActivate=function(){this.autoplay&&this.paused&&this.play();this.g=!0};e.gwdDeactivate=function(){this.seek(0);this.pause();this.g=!1};e.gwdIsActive=function(){return this.g};e.gwdLoad=function(){x(this);this.j=!0;var a;a=document.createEvent("Event");a.initEvent("ready",!0,!0);this.dispatchEvent(a)};
e.gwdIsLoaded=function(){return this.j};e.mute=function(){this.c&&(this.volume=1);this.c=!1;this.muted=!this.muted};e.replay=function(){this.seek(0);this.play()};e.seek=function(a){this.currentTime=a};var x=function(a){for(var b=a.getAttribute("sources"),b=b?b.split(","):[],c;c=a.firstChild;)a.removeChild(c);for(c=0;c<b.length;++c){var d=document.createElement("source"),g=d,f;f=b[c];f=f.trim();f=window.Enabler?Enabler.getUrl(f):f;g.src=f;a.appendChild(d)}};
document.registerElement("gwd-video",{prototype:w.prototype,"extends":"video"});}()
